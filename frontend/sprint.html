<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>Task Management</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel='stylesheet' href='https://cdn.jsdelivr.net/gh/alphardex/aqua.css/dist/aqua.min.css'>
  <link rel="stylesheet" href="/static/style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

  <script src="/static/notion-functionality2.js" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/@simondmc/popup-js@1.4.3/popup.min.js"></script>
  <script>
    // Inyectar la variable 'todo' desde Python a JS
    const Datos_incompletos = {{ todo | safe }};
    console.log("Datos cargados:", Datos_incompletos);
</script>


</head>
<body>

<!-- Template para cada elemento de tareas -->
<template id="tem-task-item">
    <li class="task-list__item" id="task3" >
        <input type="checkbox" name="task3" class="form-check-input">
        <div class="task-name-div">
            <div class="form-check">
                <label for="task3" class="form-check-label task-name">Fixing icons with transparent background</label>
            </div>
        </div>
        <div class="task-spans" >
            <span class="tag tag-status">In Progress</span>
            <span class="tag tag-priority ">High</span>
            <span class="tag tag-edit tag-info">Eliminar</span>
        </div>
    </li>
</template>

<!-- Template para cada sección de tareas -->
 <template id="tem-task-section">
    <section class="section" id="tareas-X">
        <div class="section-title">
            <h2>Tareas de X</h2>
            <div class="more">
              <svg t="1585986433287" class="icon" viewBox="0 0 1024 1024" version="1.1"
              xmlns="http://www.w3.org/2000/svg" p-id="3285" width="16" height="16">
                    <!-- Three dots -->
                    <path d="M164.3 512.2m-100 0a100 100 0 1 0 200 0 100 100 0 1 0-200 0Z" p-id="3286"></path>
                    <path d="M512.3 512.2m-100 0a100 100 0 1 0 200 0 100 100 0 1 0-200 0Z" p-id="3287"></path>
                    <path d="M860.4 512.2m-100 0a100 100 0 1 0 200 0 100 100 0 1 0-200 0Z" p-id="3288"></path>
                </svg>
            </div>
        </div>

        <ul class="task-list">
            
        </ul>
    </section>
 </template>

<!-- Template del proyecto -->
<template id="tem-project-list-item">
    <li class="project-list__item" onclick="set_active(this)">
        <div class="project-block" data-abbr="GH">
            <div class="project-abbr">GH</div>
        </div>
        <div class="project-name">Green House</div>
    </li>
</template>

  <!-- END OF TEMPLATE ZONE -->

<!-- partial:index.partial.html -->
<main class="dashboard">
    <article class="projects">
        <header class="welcome-banner">
            <h1>Bienvenido a MinuteMate</h1>
            <p>Puedes ver los proyectos creados en Notion, si seleccionas alguno se desplegarán las tareas relacionadas del lado derecho. </p>
        </header>
        <section class="section" id="projects">
            <div class="section-title">
                <span class="title">Projectos</span>
                <span class="project-count">(13)</span>
            </div>
            <ul class="project-list">
                
            </ul>
        </section>
        <a href="/" class="menu"><i class="fa fa-home"></i></a>
    </article>
    <article class="project-detail">
        <header class="project-header">
            <div class="project-intro">
                <h1>Nombre del proyecto</h1>
                <p>Resúmen del proyecto</p>
            </div>
        </header>
        <div class="task-container">

        </div>
    </article>

</main>
<!-- partial -->
  <script>
        // Aquí puedes trabajar con 'Datos_incompletos', que contiene los datos de 'todo' de Python
        document.addEventListener('DOMContentLoaded', function() {
            // Usa los datos de 'Datos_incompletos'
            create_project_list(Datos_incompletos);
            show_project_blocks();
            set_active(document.getElementById(active_project_id));
            show_project_tasks(active_project_id);
        });
    </script>
</body>


</html>